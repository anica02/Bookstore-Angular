<div class="container mb-3">
    <div class="row">
        <div class="col-12 text-center marginContainer ">
            <h1>Books</h1>
            <button mat-raised-button  (click)="createBookFormRedirect()">Add book</button>
                    <div class="example-container mat-elevation-z8 cartMargin">
            
                        <table mat-table [dataSource]="dataSource">
                    
                        
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef class="custom-th"> No. </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.id}} </td>
                        </ng-container>

                        <ng-container matColumnDef="code">
                            <th mat-header-cell *matHeaderCellDef class="custom-th"> Code </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.code}}</td>
                        </ng-container>
                        
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef class="custom-th"> Name </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.name}}</td>
                        </ng-container>
                    
                        
                        <ng-container matColumnDef="file">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">File</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.bookPublisher.image.path}} </td>
                        </ng-container>
                    


                        <ng-container matColumnDef="publisherId">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">BookPublisherId</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.bookPublisher.id}}</td>
                        </ng-container>

                        <ng-container matColumnDef="price">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">Price </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.bookPublisher.price | currency:'EUR'}}</td>
                        </ng-container>

                        <ng-container matColumnDef="discount">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">Discount %</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{ formatValue(element.bookPublisher.discount?.discountPercentage)}} </td>
                        </ng-container>
                        <ng-container matColumnDef="startsFrom">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">StartsFrom</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{formatValue(element.bookPublisher.discount?.startsFrom | date:'shortDate')}}</td>
                        </ng-container>
                        <ng-container matColumnDef="endsAt">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">EndsAt</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{formatValue(element.bookPublisher.discount?.endsAt | date:'shortDate')}}</td>
                        </ng-container>
                        <ng-container matColumnDef="isActive">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">IsActive</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.isActive}}</td>
                        </ng-container>

                        <ng-container matColumnDef="createdAt">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">CreatedAt </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{element.createdAt | date:'shortDate'}}</td>
                        </ng-container>

                        <ng-container matColumnDef="modifiedAt">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">ModifiedAt </th>
                            <td mat-cell *matCellDef="let element" class="custom-td">  {{formatValue(element.modifiedAt | date:'shortDate')}}</td>
                        </ng-container>

                        <ng-container matColumnDef="modifiedBy">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">ModifiedBy </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{ formatValue(element.modifiedBy)}}</td>
                        </ng-container>


                        <ng-container matColumnDef="deletedAt">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">DeletedAt </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{formatValue(element.deletedAt | date:'shortDate')}}</td>
                        </ng-container>

                        <ng-container matColumnDef="deletedBy">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">DeletedBy </th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> {{formatValue(element.deletedBy)}}</td>
                        </ng-container>

                       <ng-container matColumnDef="delete">
                            <th mat-header-cell *matHeaderCellDef class="custom-th">Delete</th>
                            <td mat-cell *matCellDef="let element" class="custom-td"> <button mat-raised-button color="warn"  (click)="openConfirmationDialog(element.id)" >Delete</button> </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                </div>
        </div>
    </div>
</div>